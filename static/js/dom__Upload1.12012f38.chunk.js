(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[22],{133:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(129),o=a(38),i=a(124),s=a(25),u=a(121),c=a(122),p=a(123),m=a(39),d=a(65),f=a(47),g=Object(d.a)((function(e){return{Question:{fontWeight:500},Answer:{marginTop:e.spacing(1.5),padding:0,fontSize:14,backgroundColor:f.a[50],border:"1px solid ".concat(f.a[400]),borderRadius:6,"& p":{padding:e.spacing(0,2.5)},"& ol,ul":{margin:e.spacing(1.5,0)},"& img":{maxWidth:"100%"}},References:{margin:e.spacing(3,0,0),"& ol":{marginTop:e.spacing(1)},"& li":{fontSize:14,fontWeight:500,marginBottom:e.spacing(1)}}}})),h=Object(n.memo)((function(e){var t=e.index,a=e.question,n=e.answer,i=e.references,d=g(),f=Object(m.a)(!1),h=Object(s.a)(f,2),b=h[0],E=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{button:!0,onClick:E},r.a.createElement(c.a,{classes:{primary:d.Question}},t,". ",a)),r.a.createElement(p.a,{in:b,timeout:"auto"},r.a.createElement(l.a,{className:d.Answer},n),!!i&&i.length&&r.a.createElement(l.a,{className:d.References},r.a.createElement(o.a,{variant:"h4"},"References"),r.a.createElement("ol",null,i.map((function(e){var t=e.name,a=e.url;return r.a.createElement("li",{key:a},r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},t))}))))))}));h.displayName="QuestionItem";var b=h,E=Object(d.a)((function(e){return{Container:{marginTop:e.spacing(4)},Content:{marginTop:e.spacing(2.5)},Questions:{marginTop:e.spacing(4),"& code":{fontFamily:"'Courier New', Courier, monospace",fontSize:14,fontWeight:600,color:"rgb(219, 104, 27)"}}}})),v=Object(n.memo)((function(e){var t=e.title,a=e.questions,n=e.children,s=E();return r.a.createElement(l.a,{className:s.Container},r.a.createElement(o.a,{variant:"h2"},t),r.a.createElement(l.a,{className:s.Content},n),r.a.createElement(l.a,{className:s.Questions},r.a.createElement(o.a,{variant:"h3"},"Questions"),r.a.createElement(l.a,null,r.a.createElement(i.a,null,a.map((function(e,t){return r.a.createElement(b,Object.assign({key:t,index:t+1},e))}))))))}));v.displayName="QuestionPage";t.a=v},134:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(136),o=a.n(l),i=a(464),s=a(450),u=a(135),c=a.n(u),p=Object(n.memo)((function(e){var t=e.className,a=e.children,n=e.style,l=void 0===n?s.a:n,u=e.language;return r.a.createElement("div",{className:o()(c.a.Code,t)},r.a.createElement(i.a,{language:u,style:l},a))}));p.displayName="Code",t.a=p},135:function(e,t,a){e.exports={Code:"styles_Code__2Axvp"}},462:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(133),o=a(41),i=a(451),s=a(452),u=a(453),c=a(468),p=a(129),m=a(38),d=a(95),f=a(180),g=a(458),h=a(65),b=Object(h.a)((function(e){return{Section:{marginBottom:e.spacing(3)},UploadContainer:{marginBottom:e.spacing(3)},UploadWrapper:{position:"relative",display:"inline-block",marginTop:e.spacing(1),padding:e.spacing(2)},FileInput:{display:"block",fontSize:14,textAlign:"right"},ButtonSubmit:{marginTop:e.spacing(2)},ProgressOverlay:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:e.spacing(1),top:e.spacing(1),right:e.spacing(1),bottom:e.spacing(1),backgroundColor:"white",opacity:.5},ErrorText:{marginTop:e.spacing(1)},UploaderInput:{display:"block",margin:"".concat(e.spacing(1),"px 0"),"& .MuiInput-formControl":{width:"100%"}}}})),E=Object(n.memo)((function(e){var t=e.title,a=e.url,n=e.fieldName,l=e.formRef,o=e.inputRef,i=e.handleSubmit,s=e.status,u=e.multiple,c=e.children,h=b(),E=s||{},v=E.loading,S=void 0!==v&&v,y=E.progressPercentage,O=void 0===y?0:y,N=E.result,w=void 0===N?void 0:N,U=E.error,j=void 0===U?void 0:U;return r.a.createElement(p.a,{className:h.UploadContainer},r.a.createElement(m.a,{variant:"h6"},t),r.a.createElement(d.a,{className:h.UploadWrapper},r.a.createElement("form",{onSubmit:i,ref:l,action:a,method:"POST",encType:"multipart/form-data"},r.a.createElement("input",{className:h.FileInput,type:"file",name:n,ref:o,required:!0,multiple:u}),c,r.a.createElement(f.a,{className:h.ButtonSubmit,type:"submit",variant:"contained",color:"default",size:"small"},"Upload"),w&&r.a.createElement("pre",null,JSON.stringify(w))),j&&r.a.createElement(m.a,{className:h.ErrorText,color:"error",variant:"subtitle1"},j),S&&r.a.createElement(p.a,{className:h.ProgressOverlay},r.a.createElement(g.a,{value:O,variant:"determinate",color:"primary"}))))}));E.displayName="Uploader";var v=E,S=a(134),y=[{question:r.a.createElement("span",null,"How to upload file(s) using a ",r.a.createElement("code",null,"form"),"?"),answer:r.a.createElement("div",null,r.a.createElement("p",null,"Use an ",r.a.createElement("code",null,"input")," with ",r.a.createElement("code",null,"type")," attribute set to"," ",r.a.createElement("code",null,"file")," inside a ",r.a.createElement("code",null,"form")," with ",r.a.createElement("code",null,"enctype")," ","attribute set to ",r.a.createElement("code",null,"multipart/form-data")," and"," ",r.a.createElement("code",null,"method")," attribute set to ",r.a.createElement("code",null,"POST")),r.a.createElement(S.a,{language:"markup"},'<form\n  action="http://127.0.0.1:1333/upload-single"\n  method="POST"\n  enctype="multipart/form-data"\n>\n  <input type="file" name="single-file" required="" />\n  <input\n    type="hidden"\n    name="redirect"\n    value="http://localhost:3000/dom/upload"\n  />\n\n  <input\n    aria-invalid="false"\n    name="description"\n    required=""\n    type="text"\n    value=""\n  />\n  <button type="submit">Upload</button>\n</form>')),references:[{name:"[Stack Overflow] how to upload a file to my server using html?",url:"https://stackoverflow.com/questions/5628011/how-to-upload-a-file-to-my-server-using-html"},{name:"[MDN] <form>",url:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype"}]},{question:r.a.createElement("span",null,"How to upload file(s) using AJAX requests?"),answer:r.a.createElement("div",null,r.a.createElement("p",null,"Create a ",r.a.createElement("code",null,"FormData")," object and send it as body of a request"),r.a.createElement(S.a,{language:"typescript"},"const upload = ({\n  formData,\n  url,\n  setStatus,\n}: {\n  formData: FormData;\n  url: string;\n  setStatus: Dispatch<SetStateAction<UploadStatus>>;\n}) => {\n  const xhr = new XMLHttpRequest();\n  xhr.addEventListener(\n    'progress',\n    e => {\n      if (e.lengthComputable) {\n        console.log(e.loaded);\n        const progressPercentage = Math.round((e.loaded * 100) / e.total);\n        setStatus(status => ({ ...status, progressPercentage }));\n      }\n    },\n    false,\n  );\n  xhr.addEventListener(\n    'load',\n    () =>\n      setStatus({\n        loading: false,\n        progressPercentage: 100,\n        result: JSON.parse(xhr.response),\n      }),\n    false,\n  );\n  xhr.addEventListener('error', () => {\n    const error = xhr.responseText || 'UNKNOWN ERROR';\n    setStatus({ loading: false, error, progressPercentage: 0 });\n  });\n  xhr.open('POST', url, true);\n  xhr.timeout = 2000;\n  setStatus({ loading: true, progressPercentage: 0 });\n  xhr.send(formData);\n};\n\nexport const uploadWholeForm = ({\n  form,\n  url,\n  setStatus,\n}: {\n  form: HTMLFormElement | null | undefined;\n  url: string;\n  setStatus: Dispatch<SetStateAction<UploadStatus>>;\n}) => {\n  if (!form) return;\n\n  const formData = new FormData(form);\n  upload({ formData, url, setStatus });\n};\n\nexport const uploadFilesOnly = ({\n  input,\n  url,\n  fieldName,\n  multiple,\n  setStatus,\n}: {\n  input: HTMLInputElement | undefined | null;\n  url: string;\n  fieldName: string;\n  multiple: boolean;\n  setStatus: Dispatch<SetStateAction<UploadStatus>>;\n}) => {\n  const files = input && input.files;\n\n  if (!files) return;\n\n  const count = multiple ? files.length : Math.max(1, files.length);\n  const formData = new FormData();\n\n  for (let i = 0; i < count; ++i) {\n    const file = files[i];\n    formData.append(fieldName, file, file.name);\n  }\n\n  upload({ formData, url, setStatus });\n};")),references:[{name:"Ridiculously simple Ajax uploads with FormData",url:"https://thoughtbot.com/blog/ridiculously-simple-ajax-uploads-with-formdata"},{name:"Uploading Files with AJAX",url:"https://blog.teamtreehouse.com/uploading-files-ajax"},{name:"[MDN] Uploading a user-selected file",url:"https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications#Example_Uploading_a_user-selected_file"},{name:"[MDN] FormData.append()",url:"https://developer.mozilla.org/en-US/docs/Web/API/FormData/append"},{name:"[MDN] XMLHttpRequest.send()",url:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send"}]}],O=a(146),N=a.n(O),w=a(147),U=a(25),j=a(12);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var x=function(e){var t=e.formData,a=e.url,n=e.setStatus,r=new XMLHttpRequest;r.addEventListener("progress",(function(e){if(e.lengthComputable){console.log(e.loaded);var t=Math.round(100*e.loaded/e.total);n((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{progressPercentage:t})}))}}),!1),r.addEventListener("load",(function(){return n({loading:!1,progressPercentage:100,result:JSON.parse(r.response)})}),!1),r.addEventListener("error",(function(){var e=r.responseText||"UNKNOWN ERROR";n({loading:!1,error:e,progressPercentage:0})})),r.open("POST",a,!0),r.timeout=2e3,n({loading:!0,progressPercentage:0}),r.send(t)},P=function(e){var t=e.input,a=e.url,n=e.fieldName,r=e.multiple,l=e.setStatus,o=t&&t.files;if(o){for(var i=r?o.length:Math.max(1,o.length),s=new FormData,u=0;u<i;++u){var c=o[u];s.append(n,c,c.name)}x({formData:s,url:a,setStatus:l})}},R=function(e){var t=e.url,a=Object(n.useRef)(null),r=Object(n.useState)({loading:!1,progressPercentage:0}),l=Object(U.a)(r,2),o=l[0],i=l[1],s=Object(n.useCallback)((function(e){e.preventDefault(),function(e){var t=e.form,a=e.url,n=e.setStatus;if(t){var r=new FormData(t);x({formData:r,url:a,setStatus:n})}}({form:a.current,url:t,setStatus:i})}),[t]);return{formRef:a,handleUploadWholeForm:s,uploadWholeFormStatus:o}};a.d(t,"Upload1Component",(function(){return M}));var C="".concat(o.b,"/upload-single"),F="".concat(o.b,"/upload-multiple"),M=function(){var e=b(),t=function(){var e=Object(n.useRef)(null),t=Object(n.useState)({loading:!1,progressPercentage:0}),a=Object(U.a)(t,2),r=a[0],l=a[1],i=Object(n.useCallback)(function(){var t=Object(w.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),P({input:e.current,url:"".concat(o.b,"/upload-single"),fieldName:"single-file",setStatus:l,multiple:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]);return{inputSingleRef:e,handleUploadSingle:i,uploadSingleStatus:r}}(),a=t.handleUploadSingle,p=t.inputSingleRef,m=t.uploadSingleStatus,d=function(){var e=Object(n.useRef)(null),t=Object(n.useState)({loading:!1,progressPercentage:0}),a=Object(U.a)(t,2),r=a[0],l=a[1],i=Object(n.useCallback)(function(){var t=Object(w.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),P({input:e.current,url:"".concat(o.b,"/upload-multiple"),fieldName:"multiple-files",setStatus:l,multiple:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]);return{inputMultipleRef:e,handleUploadMultiple:i,uploadMultipleStatus:r}}(),f=d.handleUploadMultiple,g=d.inputMultipleRef,h=d.uploadMultipleStatus,E=R({url:F}),S=E.handleUploadWholeForm,O=E.formRef,j=E.uploadWholeFormStatus;return r.a.createElement(l.a,{title:"Upload 1",questions:y},r.a.createElement(i.a,{className:e.Section},r.a.createElement(s.a,{title:"Form Upload"}),r.a.createElement(u.a,null,r.a.createElement(v,{title:"Upload single",fieldName:"single-file",url:C},r.a.createElement("input",{type:"hidden",name:"redirect",value:window.location.href}),r.a.createElement(c.a,{className:e.UploaderInput,label:"Description",name:"description",required:!0})),r.a.createElement(v,{title:"Upload multiple",fieldName:"multiple-files",url:F,multiple:!0},r.a.createElement("input",{type:"hidden",name:"redirect",value:window.location.href}),r.a.createElement(c.a,{className:e.UploaderInput,label:"Category",name:"category",required:!0})))),r.a.createElement(i.a,{className:e.Section},r.a.createElement(s.a,{title:"AJAX Upload"}),r.a.createElement(u.a,null,r.a.createElement(v,{title:"Upload single",inputRef:p,handleSubmit:a,status:m}),r.a.createElement(v,{title:"Upload multiple",inputRef:g,handleSubmit:f,status:h,multiple:!0}),r.a.createElement(v,{title:"Upload whole form",formRef:O,fieldName:"multiple-files",handleSubmit:S,status:j,multiple:!0},r.a.createElement(c.a,{className:e.UploaderInput,type:"text",name:"name",label:"Name",required:!0}),r.a.createElement(c.a,{className:e.UploaderInput,type:"number",name:"value",label:"Value",required:!0})))))},T=Object(n.memo)(M);T.displayName="Upload1";t.default=T}}]);
//# sourceMappingURL=dom__Upload1.12012f38.chunk.js.map